(()=>{function n(){var n="admin",t="Grendel666",s="192.168.0.86:4040",o=document.getElementById("song-title"),i=document.getElementById("artwork"),r=null,a=". . .";fetch("http://".concat(s,"/rest/getNowPlaying?u=").concat(n,"&p=").concat(t,"&v=1.12.0&c=now_playing")).then((function(c){c.text().then((function(c){var u=e((new DOMParser).parseFromString(c,"application/xml"));u["subsonic-response"]&&u["subsonic-response"].nowPlaying&&u["subsonic-response"].nowPlaying.entry&&u["subsonic-response"].nowPlaying.entry["@attributes"]&&u["subsonic-response"].nowPlaying.entry["@attributes"].id&&(r=u["subsonic-response"].nowPlaying.entry["@attributes"].id),u["subsonic-response"]&&u["subsonic-response"].nowPlaying&&u["subsonic-response"].nowPlaying.entry&&u["subsonic-response"].nowPlaying.entry["@attributes"]&&u["subsonic-response"].nowPlaying.entry["@attributes"].title&&(a=u["subsonic-response"].nowPlaying.entry["@attributes"].title),o.innerHTML=a,null!==r&&fetch("http://".concat(s,"/rest/getCoverArt?u=").concat(n,"&p=").concat(t,"&v=1.12.0&c=now_playing&size=1024&id=").concat(r)).then((function(n){return n.blob()})).then((function(n){i.src=URL.createObjectURL(n)}))}))}))}function e(n){var t={};if(1===n.nodeType){if(n.attributes.length>0){t["@attributes"]={};for(var s=0;s<n.attributes.length;s++){var o=n.attributes.item(s);t["@attributes"][o.nodeName]=o.nodeValue}}}else 3===n.nodeType&&(t=n.nodeValue);if(n.hasChildNodes())for(var i=0;i<n.childNodes.length;i++){var r=n.childNodes.item(i),a=r.nodeName;if(void 0===t[a])t[a]=e(r);else{if(void 0===t[a].push){var c=t[a];t[a]=[],t[a].push(c)}t[a].push(e(r))}}return t}setInterval((function(){n()}),8e3)})();